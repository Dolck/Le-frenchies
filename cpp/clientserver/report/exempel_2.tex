
\documentclass[a4paper]{article}

\usepackage{graphicx}
\usepackage{listings}
\usepackage{indentfirst}
\usepackage{float}
%\usepackage[T1]{fontenc}                % För svenska bokstäver
%\usepackage[swedish]{babel}             % För svensk avstavning och svenska
                                        % rubriker (t ex "innehållsförteckning)
\title{Programming Project, C++ Programming}
\author{Tim Dolck dat11tdo@student.lu.se \\ 
  Julian Kron\'{e} dat11jkr@student.lu.se \\
Computer science, LTH}
%\date{}           % Blir dagens datum om det utelämnas

\begin{document}
\lstset{language=SQL}

\maketitle
\newpage
\section{Introduction}
In this project, a working news system was to be implemented. 
First using a temporary database stored in primary memory, then using a persistent storage on file.
Also, an interactive client was to be implemented.
\section{Requirements}
\subsection{General Requirements}
The system consists of a server that handles a database containing newsgroups and articles and a
client that accepts commands from the user and communicates with the server. 
Several clients may be connected to the server simultaneously.
The following tasks can be performed:
\begin{itemize}
  \item List newsgroups.
  \item Create and delete newsgroups.
  \item List articles in a newsgroup.
  \item Read, write and delete articles in a newsgroup.
\end{itemize}
The system keeps track of the title and the author of each article. 
The communication between the server and the client follows the predefined messaging protocol.
There are no security requirements on the system. For instance, any user can delete news-
groups and articles, even if he or she is not the creator.

\subsection{Server Requirements}
There are two versions of the server: 
\begin{enumerate}
  \item A server that uses a database stored in primary memory.
  \item A server that uses a database stored on disk.
\end{enumerate}
The in-memory version of the server starts from scratch each time it is invoked and builds
the database in primary memory.

The disk version of the database remembers the database between invocations. Changes to
the database are immediately reflected on disk.

Each newsgroup has a unique name. A newsgroup also has a unique identification number,
greater than zero. Identification numbers may not be reused.

Each article has a title, an author and an article text. The article names need not be unique.
An article also has an identification number, which must be unique in the newsgroup.
Identification numbers may not be reused.

Listings of newsgroups and articles are in chronological order, with the oldest item first.

There are no limitations on the number of newsgroups or the number of articles in a
newsgroup.

There are no limitations on the length of newsgroup titles, article titles, author names or
article texts.

If a client misbehaves, for example by not following the messaging protocol, it is immediately
disconnected by the server.

The server tries to handle all errors. If it cannot recover from an error, it terminates with an
informative error message.

\subsection{Client Requirements}
The clients reads commands from the keyboard, communicates with the server and presents
the replies from the server on the terminal.

The client is easy to use and contains informative help texts. No manual is necessary to use
the client program.

The client tries to handle all errors. If it cannot recover from an error, it terminates with an
informative error message



\section{System description}
\subsection{Uml}
An overview of the program design can be seen in figure 1 and figure 2.

\begin{figure}[H]
  \centering
    \includegraphics[width=\textwidth]{cpp.png}
  \caption{An UML diagram illustrating the server-side classes}
  \label{model}
\end{figure}

\begin{figure}[H]
  \centering
    \includegraphics[width=\textwidth]{client.png}
  \caption{An UML diagram illustrating the client-side classes}
  \label{model}
\end{figure}

\subsection{Classes}
\subsubsection{Common}
\begin{description}
  \item[Connection] handles the individual connections between server and client.
  \item[ConnectionClosedException] reports that an error has occured, and the connection is to be closed.
  \item[MessageHandler] handles the low level message reading/writing from/to the connection.
  \item[Protocol] handles the protocol translations.
\end{description}
\subsubsection{Server}
\begin{description}
  \item[Newsgroup] handles newsgroup information.
  \item[Article] handles article information.
  \item[NewsgroupDoesNotExistException] reports that a newsgroup does not exist.
  \item[ArticleDoesNotExistException] reports that an article does not exist.
  \item[Database] handles reading/writing from/to the persistent database.
  \item[ProtocolHandler] handles the parsing/translation of the messages read/written from/to the connection, reports possible errors.
  \item[Server] handles multiple connections.
  \item[ServerImpl1] handles the database with primary memory storage.
  \item[ServerImpl2] handles the database with persistent storage.
\end{description}
\subsubsection{Client}
\begin{description}
  \item[ClientImpl] handles the client user interface.
\end{description}
\section{Conclusion}


\end{document}                 % The input file ends with this command.
